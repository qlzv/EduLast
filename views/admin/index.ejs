<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin</title>
<script async src="../assests/js/language.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="apple-touch-icon" sizes="180x180" href="../assests/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../assests/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../assests/img/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="../assests/img/site.webmanifest">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../assests/css/main.css">
<link rel="stylesheet" href="../assests/css/account.css">
<link rel="stylesheet" href="../assests/css/tabels.css">
<link rel="stylesheet" href="../assests/css/bootstrap.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css">
<link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
<link rel="stylesheet" href="../assests/css/admin.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css" integrity="sha512-O03ntXoVqaGUTAeAmvQ2YSzkCvclZEcPQu1eqloPaHfJ5RuNGiS4l+3duaidD801P50J28EHyonCV06CUlTSag==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<meta property="og:title" content="Edu Repixel" />
<meta property="og:description" content="Edu Repixel Best Website For Education" />
<meta property="og:image" content="https://cdn.discordapp.com/attachments/803305331911819284/1199430620028338176/LOGO_REPIXEL.png?ex=663b2510&is=6639d390&hm=cfa24c146717cee05a35a84b45c03cc753cd39fbea8ceec323c2a15ad972ba89&" />
</head>
<body>
<div id="preloader"></div>


<nav class="sidebar close">
<header>
<div class="image-text">
<span class="image">
<img src="../assests/img/logo.png" alt="Logo">
</span>

<div class="text logo-text">
<span class="name"><%= AdminData.name %></span>
<span class="profession">Admin</span>
</div>
</div>

<i class='bx bx-chevron-right toggle'></i>
</header>

<div class="menu-bar">
<div class="menu">



<ul class="menu-links">
<li class="nav-link">
<a href="#" class="active" id = "Dashboard">
<i class='bx bx-home-alt icon'></i>
<span class="text nav-text" data-lang = "Admin_Dashboard_Dashboard_Text">Dashboard</span>
</a>
</li>

<li class="nav-link">
<a href="#" id = "Account">
<i class='bx bxs-cog icon'></i>
<span class="text nav-text" data-lang = "Admin_Dashboard_Setting_Text">Setting</span>
</a>
</li>



</ul>
</div>

<div class="bottom-content">
<li class="">
<a href="/" class="logout">
<i class='bx bx-first-page icon' ></i>
<span class="text nav-text" data-lang="Nav_Home">Home Page</span>
</a>
</li>
<li class="">
<a href="/logout" class="logout">
    
<i class='bx bx-log-out icon' ></i>
<span class="text nav-text" data-lang="Admin_Dashboard_Logout_Text">Logout</span>
</a>
</li>



</div>
</div>

</nav>

<section class="home">
<div class="text" data-lang="Admin_Dashboard_Header_Text">Admin Dashboard</div>
<section id = "Dashboard-Holder">
<div class="container">
<div class="row">
<div class="col-md-6 d-flex align-items-center justify-content-center">
<div class="box bg-gr-100 w-100 d-flex flex-column align-items-center justify-content-center">
<h1 class="text-center text-black mb-3 fw-bolder" data-lang="Admin_Dashboard_InTotal_Text">In Total :</h1>
<% if(AdminData.total_users[0].total_users && AdminData.total_users[0].total_users > 999){ %>
<h1 class="text-center text-black mb-3 fw-bolder"><span class="text-decoration-underline"><%= AdminData.total_users[0].total_users %>K</span> <span data-lang="Admin_Dashboard_Users_Text">Users</span></h1>
<% }else{ %>
<h1 class="text-center text-black mb-3 fw-bolder"><span class="text-decoration-underline"><%= AdminData.total_users[0].total_users %></span> <span data-lang="Admin_Dashboard_Users_Text">Users</span></h1>
<% } %>
</div>
</div>
<div class="col-md-6 d-flex align-items-center justify-content-center">
<div class="box bg-bl-100 w-100 d-flex flex-column align-items-center justify-content-center">
<h1 class="text-center text-black mb-3 fw-bold" data-lang="Admin_Dashboard_LastMonth_Text">Last Month :</h1>
<% if(AdminData.total_users_last[0].total_users && AdminData.total_users_last[0].total_users > 999){ %>
<h1 class="text-center text-black mb-3 fw-bold"><span class="text-decoration-underline"><%= AdminData.total_users_last[0].total_users %>K</span> <span data-lang="Admin_Dashboard_Users_Text">Users</span></h1> 
<% }else{ %>
<h1 class="text-center text-black mb-3 fw-bolder"><span class="text-decoration-underline"><%= AdminData.total_users_last[0].total_users %></span> <span data-lang="Admin_Dashboard_Users_Text">Users</span></h1>
<% } %>

</div>
</div>
</div>
<div class="row">
<div class="col-md-6 col d-flex align-items-center justify-content-center">
<div class="box bg-bc-100 w-100 d-flex flex-column align-items-center justify-content-center">
<h1 class="text-center text-white mb-3 fw-bold" data-lang="Admin_Dashboard_InTotal_Text">In Total :</h1>
<h1 class="text-center text-white mb-3 fw-bold"><span class="text-decoration-underline"><%= AdminData.total_exams.length %></span> <span data-lang="Admin_Dashboard_Exam_Text">Exam</span></h1>
</div>
</div>
<div class="col-md-6 d-flex align-items-center justify-content-center">
<div class="box bg-sec-100 w-100 d-flex flex-column align-items-center justify-content-center">
<h1 class="text-center text-black mb-3 fw-bold" data-lang="Admin_Dashboard_InTotal_Text">In Total :</h1>
<h1 class="text-center text-black mb-3 fw-bold"><span class="text-decoration-underline"><%= AdminData.total_admin[0].total_admin %></span> <span data-lang="Admin_Dashboard_Admin_Text">Admin</span></h1>
</div>
</div>
</div>
</div>
</section>
<section id = "Admin-Mangement">

<div class="container">
<div class="table-responsive">
<div class="table-wrapper">
<div class="table-title">
<div class="row">
<div class="col-sm-6">
<h2 data-lang="Admin_Dashboard_MangeAdmins_Text">Manage Admins</h2>
</div>
<div class="col-sm-6">
<button class="btn btn-success" id="add_button"><i class="fa-solid fa-user-plus"></i> <span data-lang="Admin_Dashboard_Add_New_Admin_Text">Add New Admin</span></button>
</div>
</div>
</div>
<div class="table-responsive">
<table class="table table-striped table-hover">
<thead>
<tr>
<th>#</th>
<th data-lang="Admin_Dashboard_MangeAdmins_Name_Text">Name</th>
<th data-lang="Admin_Dashboard_MangeAdmins_Email_Text">Email</th>
<th data-lang="Admin_Dashboard_MangeAdmins_Register_Text">Register Date</th>
<th data-lang="Admin_Dashboard_MangeAdmins_Action_Text">Actions</th>
</tr>
</thead>
<tbody id ="table-data">
<% AdminData.admins.forEach((admin,index) => { %>
<tr>
<td>#<%= index+1 %></td>
<td><%= admin.first_name + " " + admin.last_name %></td>
<td><%= admin.email %></td>

<td><% var dateObject = new Date(admin.created_at);
 %><%= Number(dateObject.getMonth()+1) + "/"+ dateObject.getDate()   + "/" + dateObject.getFullYear()%></td>
<td>
<button id = "delete_admin" class="delete" data-toggle="tooltip" data-bs-toggle="tooltip" data-admin = "<%= admin.user_id %>" data-bs-title="Delete">
<i class="fa-solid fa-trash-can">&#xE254;</i>
</button>  
</td>
</tr>
<% }) %>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div class="container">
<div class="table-responsive">
<div class="table-wrapper">
<div class="table-title">
<div class="row">
<div class="col-sm-6">
<h2><span data-lang="Admin_Dashboard_TopUni_Text">Top</span> <span class="text-decoration-underline">5</span> <b data-lang="Admin_Dashboard_TopUni_Paragraph">Universities</b></h2>
</div>
</div>
</div>
<div class="table-responsive">
<table class="table table-striped table-hover">
<thead>
<tr>
<th>#</th>
<th data-lang="Admin_Dashboard_Uni_Name">University Name</th>
<th data-lang="Admin_Dashboard_Uni_Users_Text">#Users</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody id ="table-data2">
<% AdminData.top_universties.forEach((collage,index) => { %>
<tr>
<td>#<%= index+1 %></td>
<td><%= collage.collage_name %></td>
<td class="fw-bold"><%= collage.count_collage %></td>
<td></td>
<td></td>
</tr>        
<% }) %>
</tbody>
</table>
</div>
</div>
</div>
</div>
     

  <!-- Bootstrap Modal -->
    <div class="modal" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add New Exam</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Your modal content goes here -->
          <div class="container bg-dark text-white flex-column d-flex" id="main_container" role="dialog">
            
            <div class="wrappers text-center justify-content-center align-items-center">
              <h2 class="text-center">Add New Exam</h2>
              <div class="forms border-top">
                <div class="exam_name mb-3 border-bottom">
                  <label for="exam_name">
                    <h5 class="mt-3">Exam Name</h5>
                  </label>
                  <input type="text" class="w-75 mx-auto form-control mb-3" id="exam_name" placeholder="Enter Exam Name">
                </div>

<div>
<label for="exam_section">
<h5 class="mt-3">Exam Section</h5>
</label>
<select id="exam_section" class="form-select w-75 mx-auto mb-3" aria-label="Exam Section">
<option value="">Choose...</option>
<option value="1">One</option>
<option value="2">Two</option>
<option value="3">Three</option>
</select>
</div>

<div>
<label for="exam_for_which">
<h5 class="mt-3">For Which University</h5>
</label>
<select id="exam_for_which" class="form-select w-75 mx-auto mb-3" aria-label="exam_for_which">
<option value="">Choose...</option>
<option value="1">One</option>
<option value="2">Two</option>
<option value="3">Three</option>
</select>
</div>
                <div class="questions_start" id="questions_start">
                  <div class="border-top border-bottom">
                    <label for="switch_question_images">
                      <h5 class="mt-3">Question Have Image ?</h5>
                    </label>
                    <div class="form-check form-switch mx-auto">
                      <input class="form-check-input" type="checkbox" role="switch" id="switch_question_images" />
                    </div>
                  </div>

                  <div class="border-top border-bottom">
                    <label for="switch_question_answer">
                      <h5 class="mt-3">Answers Have Images ?</h5>
                    </label>
                    <div class="form-check form-switch mx-auto">
                      <input class="form-check-input" type="checkbox" role="switch" id="switch_question_answer" />
                    </div>
                  </div>

                  <div class="exam_name mb-3 border-bottom" id="questions_container">
                    <div id="question_handler question_name_question">
                      <label for="exam_question">
                        <h5 class="mt-3">Question #1</h5>
                      </label>
                      <input type="text" class="w-75 mx-auto form-control mb-3" id="exam_question-0" placeholder="Question">
                    </div>

                    <label for="exam_choices_answer">
                      <h5 class="mt-3">Choices</h5>
                    </label>
                    <div id="all_handler">
                      <div id="choices_handler">
                        <div id="wrong_choices">
                          <input type="text" class="w-75 mx-auto form-control mb-3" id="exam_choices" placeholder="A)">
                          <input type="text" class="w-75 mx-auto form-control mb-3" id="exam_choices" placeholder="B)">
                          <input type="text" class="w-75 mx-auto form-control mb-3" id="exam_choices" placeholder="C)">
                        </div>
                        <input type="text" class="w-75 mx-auto form-control mb-3" id="exams_choices_answer" placeholder="Answer">
                      </div>
                    </div>
                    <button class="btn btn-success mb-3" id="add_choice">Add Choice</button>
                  </div>
                </div>
                <button class="btn btn-success mb-3" id="add_question">Add Question</button>
              </div>
              <div class="border-top">
                <button class="btn btn-success mb-3 w-75 mx-auto mt-3" id="finsh_button" data-bs-dismiss="modal">Finish</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<div class="container">
<div class="table-responsive">
<div class="table-wrapper">
<div class="table-title">
<div class="row">
<div class="col-sm-6">
<h2 data-lang="Admin_Dashboard_Exams_Header">Manage Exams</h2>
</div>
<div class="col-sm-6">

<button class="btn btn-success" id="add_exam_button" data-bs-toggle="modal" data-bs-target="#myModal"><i class="fa-solid fa-user-plus"></i> <span data-lang="Admin_Dashboard_Exams_Add_Exam_Button">Add New Exam</span></button>
</div>
</div>
</div>
<div class="table-responsive">
<table class="table table-striped table-hover">
<thead>
<tr>
<th>#</th>
<th data-lang="Admin_Dashboard_Exams_Section_Text">Section</th>
<th data-lang="Admin_Dashboard_Exams_Name_Text">Name</th>
<th data-lang="Admin_Dashboard_Exams_Id_Text">ID</th>
<th data-lang="Admin_Dashboard_Exams_Actions_Text">Actions</th>
</tr>
</thead>
<tbody id ="table-data23">
<% for (const sub of AdminData.exams) {%>
<% for (const item of sub[Object.keys(sub)[0]]){%>
<tr>
<td>#</td>
<td><%= Object.keys(sub) %></td>

<td><%= item.name %></td>
<td><%= item.id %></td>

<td>
<button id = "delete_exam" data-exam = "<%= item.id %>" data-section = "<%= Object.keys(sub) %>" class="delete" data-toggle="tooltip" data-bs-toggle="tooltip" data-bs-title="Delete">
<i class="fa-solid fa-trash-can">&#xE254;</i>
</button>  
</td>
<% } %>
</tr>
<% } %>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>

</section>
<script>
document.getElementById("Admin-Mangement").style.display = "none";
document.getElementById("Dashboard-Holder").style.display = "";
const body = document.querySelector('body'),
sidebar = body.querySelector('nav'),
toggle = body.querySelector(".toggle"),
nav_links = body.querySelectorAll('.sidebar li a:not(.logout)');
var nav_active_link = document.querySelector('.sidebar li a.active');



nav_links.forEach(function(element){
element.addEventListener('click',function (e) {
e.preventDefault();
switch_page(element.getAttribute("id"));
element.classList.add('active');
nav_active_link.classList.remove('active')
nav_active_link = element;
})
})

toggle.addEventListener("click" , () =>{
sidebar.classList.toggle("close");
})

function switch_page(page) {
switch(page) {
case "Dashboard":
document.getElementById("Admin-Mangement").style.display = "none";
document.getElementById("Dashboard-Holder").style.display = "";
break;
case "Account":
document.getElementById("Admin-Mangement").style.display = "";
document.getElementById("Dashboard-Holder").style.display = "none";
break;
default : 

break;
}
}

</script>

  

<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="../assests/js/all.min.js"></script>
<script src="../assests/js/loader.js"></script>

<script src="../assests/js/tabels.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js" integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="../assests/js/admin.js"></script>
</body>
</html>
